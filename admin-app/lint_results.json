[{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\scripts\\fix_notes.js","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token }","line":38,"column":42}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * ProductManager.jsx - Closing Tag Fix Script\r\n * \r\n * The showInventoryModal conditional block structure:\r\n * Line 617: {showInventoryModal && (\r\n * Line 618:   <div className=\"fixed...\">          // Modal overlay\r\n * Line 620:     <div className=\"relative...\">     // Modal content container\r\n * Line 621:       <div className=\"p-8...\">        // Header section\r\n * Line 674:       </div>                          // Close header\r\n * Line 676:       <div className=\"flex-1...\">     // Body section\r\n * Line 677:         <div className=\"flex...\">     // Room tabs\r\n * Line 690:         </div>\r\n * Line 692:         {selectedRoom && (            // selectedRoom conditional\r\n * Line 693:           <div className=\"space-y-8...\"> // Content wrapper\r\n * ...calendar grid...\r\n * Line 814:           </div>                      // Close content wrapper  \r\n * Line 815:         )}                            // Close selectedRoom conditional\r\n * Line 816:       </div>                          // Close body section\r\n * Line 817:     </div>                            // Close modal content\r\n * Line 818:   </div>                              // Close modal overlay\r\n * Line 819: )}                                    // Close showInventoryModal\r\n *\r\n * Current issue: Missing closing )} for showInventoryModal at line 817\r\n */\r\n\r\n// Expected structure at lines 810-820:\r\n/*\r\n810:                                             })}\r\n811:                                         </div>\r\n812:                                     </div>\r\n813:                                 </div>\r\n814:                             )}\r\n815:                         </div>\r\n816:                     </div>\r\n817:                 </div>\r\n818:             )}\r\n819:\r\n820:             {/* Bulk Update Modal */}\r\n*/\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\src\\components\\AdminLayout.jsx","messages":[{"ruleId":"no-undef","severity":2,"message":"'Search' is not defined.","line":57,"column":61,"nodeType":"Identifier","messageId":"undef","endLine":57,"endColumn":67}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n    LayoutDashboard,\r\n    ShoppingBag,\r\n    Calendar,\r\n    Grid,\r\n    Menu,\r\n    Image as ImageIcon,\r\n    Megaphone,\r\n    LayoutTemplate,\r\n    MessageSquare,\r\n    Activity,\r\n    Star,\r\n    FileText,\r\n    Users,\r\n    Plane,\r\n    Mail,\r\n    Settings,\r\n    LogOut,\r\n    Shield,\r\n    ExternalLink,\r\n    ChevronLeft,\r\n    ChevronRight\r\n} from 'lucide-react';\r\nimport { supabase } from '../utils/supabase';\r\n\r\nconst AdminLayout = ({ children }) => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    const handleLogout = async () => {\r\n        await supabase.auth.signOut();\r\n        localStorage.removeItem('adminToken');\r\n        localStorage.removeItem('adminUser');\r\n        navigate('/login');\r\n    };\r\n\r\n    const menuItems = [\r\n        {\r\n            section: 'Overview', items: [\r\n                { path: '/', label: 'Dashboard', icon: LayoutDashboard },\r\n            ]\r\n        },\r\n        {\r\n            section: 'CMS', items: [\r\n                { path: '/hero', label: 'Hero Slider', icon: LayoutTemplate },\r\n                { path: '/categories', label: 'Categories', icon: Grid },\r\n                { path: '/activities', label: 'Activities', icon: Activity },\r\n                { path: '/testimonials', label: 'Testimonials', icon: Star },\r\n                { path: '/media', label: 'Media Library', icon: ImageIcon },\r\n                { path: '/menus', label: 'Menus', icon: Menu },\r\n                { path: '/pages', label: 'Page Content', icon: FileText },\r\n                { path: '/team', label: 'Team Members', icon: Users },\r\n                { path: '/newsletter', label: 'Newsletter', icon: Mail },\r\n                { path: '/seo', label: 'SEO Manager', icon: Search },\r\n                { path: '/reviews', label: 'Reviews', icon: MessageSquare },\r\n                { path: '/email-templates', label: 'Email Templates', icon: Mail },\r\n            ]\r\n        },\r\n        {\r\n            section: 'Commercial', items: [\r\n                { path: '/products', label: 'Inventory', icon: ShoppingBag },\r\n                { path: '/bookings', label: 'Bookings', icon: Calendar },\r\n                { path: '/flights', label: 'Flights', icon: Plane },\r\n                { path: '/promotions', label: 'Promotions', icon: Megaphone },\r\n            ]\r\n        },\r\n        {\r\n            section: 'System', items: [\r\n                { path: '/logs', label: 'Audit Logs', icon: Shield },\r\n                { path: '/settings', label: 'Settings', icon: Settings },\r\n            ]\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"flex h-screen bg-gray-50 font-sans text-gray-900\">\r\n            {/* Sidebar background with glassmorphism */}\r\n            <div className=\"fixed inset-0 z-0 pointer-events-none\">\r\n                <div className=\"absolute top-0 left-0 w-full h-96 bg-primary-500/5 blur-3xl opacity-50 rounded-full -translate-x-1/2 -translate-y-1/2\"></div>\r\n                <div className=\"absolute bottom-0 right-0 w-full h-96 bg-blue-500/5 blur-3xl opacity-50 rounded-full translate-x-1/2 translate-y-1/2\"></div>\r\n            </div>\r\n\r\n            {/* Sidebar */}\r\n            <aside\r\n                className={`relative z-10 bg-white/80 backdrop-blur-xl border-r border-gray-200 transition-all duration-300 flex flex-col ${collapsed ? 'w-20' : 'w-72'}`}\r\n            >\r\n                <div className=\"p-6 flex items-center justify-between\">\r\n                    {!collapsed && (\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 bg-primary-500/10 rounded-xl flex items-center justify-center text-primary-600\">\r\n                                <Shield size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h1 className=\"font-display font-bold text-xl tracking-tight text-gray-900\">Travel Lounge</h1>\r\n                                <p className=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">Admin Panel</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    {collapsed && (\r\n                        <div className=\"mx-auto w-10 h-10 bg-primary-500/10 rounded-xl flex items-center justify-center text-primary-600\">\r\n                            <Shield size={24} />\r\n                        </div>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setCollapsed(!collapsed)}\r\n                        className=\"absolute -right-3 top-8 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center text-gray-400 hover:text-primary-600 shadow-sm transition-colors\"\r\n                    >\r\n                        {collapsed ? <ChevronRight size={14} /> : <ChevronLeft size={14} />}\r\n                    </button>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 overflow-y-auto py-4 px-3 space-y-6 scrollbar-thin scrollbar-thumb-gray-200\">\r\n                    {menuItems.map((group, idx) => (\r\n                        <div key={idx}>\r\n                            {!collapsed && (\r\n                                <h3 className=\"px-4 mb-2 text-xs font-bold text-gray-400 uppercase tracking-widest\">\r\n                                    {group.section}\r\n                                </h3>\r\n                            )}\r\n                            <div className=\"space-y-1\">\r\n                                {group.items.map((item) => {\r\n                                    const isActive = location.pathname === item.path;\r\n                                    return (\r\n                                        <Link\r\n                                            key={item.path}\r\n                                            to={item.path}\r\n                                            className={`\r\n                        flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative\r\n                        ${isActive\r\n                                                    ? 'bg-primary-50 text-primary-600 font-semibold shadow-sm shadow-primary-500/10'\r\n                                                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                                                }\r\n                      `}\r\n                                        >\r\n                                            {isActive && (\r\n                                                <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-500 rounded-r-full\"></div>\r\n                                            )}\r\n                                            <item.icon\r\n                                                size={20}\r\n                                                className={`transition-colors ${isActive ? 'text-primary-600' : 'text-gray-400 group-hover:text-gray-600'}`}\r\n                                            />\r\n                                            {!collapsed && <span>{item.label}</span>}\r\n                                            {collapsed && (\r\n                                                <div className=\"absolute left-full ml-4 px-3 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none\">\r\n                                                    {item.label}\r\n                                                </div>\r\n                                            )}\r\n                                        </Link>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </nav>\r\n\r\n                <div className=\"p-4 border-t border-gray-200 bg-gray-50/50\">\r\n                    <button\r\n                        onClick={handleLogout}\r\n                        className={`flex items-center gap-3 w-full px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition-colors ${collapsed ? 'justify-center' : ''}`}\r\n                    >\r\n                        <LogOut size={20} />\r\n                        {!collapsed && <span className=\"font-medium\">Sign Out</span>}\r\n                    </button>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"flex-1 overflow-y-auto relative z-0\">\r\n                <header className=\"sticky top-0 z-20 bg-white/80 backdrop-blur-xl border-b border-gray-200 px-8 py-4 flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <h2 className=\"text-xl font-display font-bold text-gray-900\">\r\n                            {menuItems.flatMap(g => g.items).find(i => i.path === location.pathname)?.label || 'Dashboard'}\r\n                        </h2>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <a\r\n                            href=\"http://localhost:5173\"\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-white hover:text-primary-600 hover:shadow-md transition-all\"\r\n                        >\r\n                            <ExternalLink size={16} />\r\n                            View Website\r\n                        </a>\r\n                        <div className=\"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold border-2 border-white shadow-sm\">\r\n                            A\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                <div className=\"p-8 pb-32 max-w-[1600px] mx-auto\">\r\n                    {children}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminLayout;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\src\\pages\\NewsletterManager.jsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\n  140 |                                     </td>\n  141 |                                     <td className=\"py-4 px-6 text-sm text-gray-500\">\n> 142 |                                         {format(new Date(sub.created_at || Date.now()), 'MMM d, yyyy')}\n      |                                                                            ^^^^^^^^^^ Cannot call impure function\n  143 |                                     </td>\n  144 |                                     <td className=\"py-4 px-6 text-right\">\n  145 |                                         <button className=\"text-gray-400 hover:text-red-600 transition-colors\">Unsubscribe</button>","line":142,"column":76,"nodeType":null,"endLine":142,"endColumn":86}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { supabase } from '../utils/supabase';\r\nimport { toast } from 'react-hot-toast';\r\nimport {\r\n    Mail,\r\n    Download,\r\n    Send,\r\n    Users,\r\n    Calendar,\r\n    Search,\r\n    CheckCircle,\r\n    XCircle\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\n\r\nconst NewsletterManager = () => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    const { data: subscribers, isLoading, isError, error: queryError } = useQuery({\r\n        queryKey: ['newsletter'],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase.from('newsletter_subscribers').select('*').order('created_at', { ascending: false });\r\n            if (error) {\r\n                if (error.code === '42P01') return [];\r\n                throw error;\r\n            };\r\n            return data;\r\n        }\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        if (isError && queryError) {\r\n            toast.error(`Failed to load subscribers: ${queryError.message}`);\r\n        }\r\n    }, [isError, queryError]);\r\n\r\n    const handleExport = () => {\r\n        if (!subscribers || subscribers.length === 0) return toast.error('No subscribers to export');\r\n\r\n        const csvContent = \"data:text/csv;charset=utf-8,\"\r\n            + \"Email,Status,Subscribed Date\\n\"\r\n            + subscribers.map(s => `${s.email},${s.status},${s.created_at}`).join(\"\\n\");\r\n\r\n        const encodedUri = encodeURI(csvContent);\r\n        const link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        link.setAttribute(\"download\", \"subscribers.csv\");\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        toast.success('Export started');\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-display font-bold text-gray-900\">Newsletter</h1>\r\n                    <p className=\"text-gray-500 mt-1\">Manage detailed subscriber lists and campaigns</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        onClick={handleExport}\r\n                        className=\"flex items-center gap-2 bg-white hover:bg-gray-50 border border-gray-200 text-gray-700 px-6 py-3 rounded-xl font-bold transition-all shadow-sm\"\r\n                    >\r\n                        <Download size={20} /> Export CSV\r\n                    </button>\r\n                    <button\r\n                        className=\"flex items-center gap-2 bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-primary/30 active:scale-95\"\r\n                    >\r\n                        <Send size={20} /> New Campaign\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div className=\"p-3 bg-blue-50 text-blue-600 rounded-xl\">\r\n                            <Users size={24} />\r\n                        </div>\r\n                        <span className=\"text-xs font-bold uppercase text-gray-400\">Total</span>\r\n                    </div>\r\n                    <div className=\"text-3xl font-bold text-gray-900\">{subscribers?.length || 0}</div>\r\n                    <div className=\"text-sm text-gray-500 mt-1\">Active Subscribers</div>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div className=\"p-3 bg-green-50 text-green-600 rounded-xl\">\r\n                            <CheckCircle size={24} />\r\n                        </div>\r\n                        <span className=\"text-xs font-bold uppercase text-gray-400\">Rate</span>\r\n                    </div>\r\n                    <div className=\"text-3xl font-bold text-gray-900\">24%</div>\r\n                    <div className=\"text-sm text-gray-500 mt-1\">Avg. Warning Rate</div>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div className=\"p-3 bg-purple-50 text-purple-600 rounded-xl\">\r\n                            <Send size={24} />\r\n                        </div>\r\n                        <span className=\"text-xs font-bold uppercase text-gray-400\">Sent</span>\r\n                    </div>\r\n                    <div className=\"text-3xl font-bold text-gray-900\">12</div>\r\n                    <div className=\"text-sm text-gray-500 mt-1\">Campaigns this month</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\r\n                <div className=\"p-4 border-b border-gray-100\">\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search subscribers...\"\r\n                            className=\"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full\">\r\n                        <thead>\r\n                            <tr className=\"bg-gray-50/50\">\r\n                                <th className=\"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider\">Email Address</th>\r\n                                <th className=\"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider\">Status</th>\r\n                                <th className=\"text-left py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider\">Joined Date</th>\r\n                                <th className=\"text-right py-4 px-6 text-xs font-bold text-gray-400 uppercase tracking-wider\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-gray-50\">\r\n                            {subscribers?.length > 0 ? subscribers.map((sub) => (\r\n                                <tr key={sub.id} className=\"hover:bg-gray-50/50 transition-colors\">\r\n                                    <td className=\"py-4 px-6 font-medium text-gray-900\">{sub.email}</td>\r\n                                    <td className=\"py-4 px-6\">\r\n                                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-700 capitalize\">\r\n                                            {sub.status || 'Active'}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"py-4 px-6 text-sm text-gray-500\">\r\n                                        {format(new Date(sub.created_at || Date.now()), 'MMM d, yyyy')}\r\n                                    </td>\r\n                                    <td className=\"py-4 px-6 text-right\">\r\n                                        <button className=\"text-gray-400 hover:text-red-600 transition-colors\">Unsubscribe</button>\r\n                                    </td>\r\n                                </tr>\r\n                            )) : (\r\n                                <tr>\r\n                                    <td colSpan=\"4\" className=\"py-12 text-center text-gray-500\">\r\n                                        No subscribers found in database.\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsletterManager;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\src\\pages\\PageContentManager.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  51 |     useEffect(() => {\n  52 |         if (selectedPage) {\n> 53 |             setEditForm({\n     |             ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  54 |                 title: selectedPage.title || '',\n  55 |                 headline: selectedPage.content?.headline || '',\n  56 |                 body: selectedPage.content?.body || ''","line":53,"column":13,"nodeType":null,"endLine":53,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '../utils/supabase';\r\nimport { toast } from 'react-hot-toast';\r\nimport {\r\n    FileText,\r\n    Edit3,\r\n    Check,\r\n    Layout,\r\n    HelpCircle,\r\n    Phone,\r\n    Info,\r\n    Save,\r\n    Loader\r\n} from 'lucide-react';\r\n\r\nconst PageContentManager = () => {\r\n    const queryClient = useQueryClient();\r\n    const [selectedPageSlug, setSelectedPageSlug] = useState('about');\r\n\r\n    // Local state for editing form\r\n    const [editForm, setEditForm] = useState({\r\n        title: '',\r\n        headline: '',\r\n        body: ''\r\n    });\r\n\r\n    // Fetch all pages\r\n    const { data: pages, isLoading, isError, error: queryError } = useQuery({\r\n        queryKey: ['pages'],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase.from('pages').select('*').order('slug');\r\n            if (error) {\r\n                if (error.code === '42P01') return [];\r\n                throw error;\r\n            }\r\n            return data;\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (isError && queryError) {\r\n            toast.error(`Failed to load pages: ${queryError.message}`);\r\n        }\r\n    }, [isError, queryError]);\r\n\r\n    // Get currently selected page object\r\n    const selectedPage = pages?.find(p => p.slug === selectedPageSlug);\r\n\r\n    // Update local form when selection changes\r\n    useEffect(() => {\r\n        if (selectedPage) {\r\n            setEditForm({\r\n                title: selectedPage.title || '',\r\n                headline: selectedPage.content?.headline || '',\r\n                body: selectedPage.content?.body || ''\r\n            });\r\n        }\r\n    }, [selectedPage]);\r\n\r\n    const updateMutation = useMutation({\r\n        mutationFn: async (updates) => {\r\n            const { data, error } = await supabase\r\n                .from('pages')\r\n                .update({\r\n                    title: updates.title,\r\n                    content: {\r\n                        headline: updates.headline,\r\n                        body: updates.body\r\n                    }\r\n                })\r\n                .eq('slug', selectedPageSlug);\r\n\r\n            if (error) throw error;\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries(['pages']);\r\n            toast.success('Page content updated successfully');\r\n        },\r\n        onError: (err) => toast.error('Failed to update page: ' + err.message)\r\n    });\r\n\r\n    const handleSave = () => {\r\n        updateMutation.mutate(editForm);\r\n    };\r\n\r\n    const getPageIcon = (slug) => {\r\n        switch (slug) {\r\n            case 'about': return Info;\r\n            case 'contact': return Phone;\r\n            case 'services': return Layout;\r\n            case 'faq': return HelpCircle;\r\n            default: return FileText;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8 h-[calc(100vh-140px)]\">\r\n            {/* Sidebar Page List */}\r\n            <div className=\"lg:col-span-1 bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden flex flex-col\">\r\n                <div className=\"p-6 border-b border-gray-100\">\r\n                    <h2 className=\"font-display font-bold text-lg text-gray-900\">Pages</h2>\r\n                    <p className=\"text-sm text-gray-500\">Select a page to edit</p>\r\n                </div>\r\n\r\n                {isLoading ? (\r\n                    <div className=\"flex justify-center p-8\"><Loader className=\"animate-spin text-primary\" /></div>\r\n                ) : (\r\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                        {pages?.length > 0 ? pages.map((page) => {\r\n                            const Icon = getPageIcon(page.slug);\r\n                            return (\r\n                                <button\r\n                                    key={page.id}\r\n                                    onClick={() => setSelectedPageSlug(page.slug)}\r\n                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${selectedPageSlug === page.slug ? 'bg-primary text-white shadow-lg shadow-primary/30' : 'hover:bg-gray-50 text-gray-600'}`}\r\n                                >\r\n                                    <Icon size={18} />\r\n                                    <span className=\"font-bold text-sm capitalize\">{page.title}</span>\r\n                                    {selectedPageSlug === page.slug && <Check size={16} className=\"ml-auto\" />}\r\n                                </button>\r\n                            );\r\n                        }) : (\r\n                            <div className=\"text-center p-4 text-gray-500 text-sm\">No pages found. Run migration.</div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Editor Area */}\r\n            <div className=\"lg:col-span-3 bg-white rounded-2xl border border-gray-100 shadow-sm flex flex-col\">\r\n                <div className=\"p-6 border-b border-gray-100 flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"p-2 bg-gray-100 rounded-lg text-gray-500\">\r\n                            <FileText size={20} />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"font-bold text-xl text-gray-900\">\r\n                                Editing: {selectedPage?.title || 'Loading...'}\r\n                            </h2>\r\n                            <p className=\"text-xs text-green-600 flex items-center gap-1 font-medium\">\r\n                                <span className=\"w-2 h-2 rounded-full bg-green-500 block\"></span> Live on Website\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={updateMutation.isPending || !selectedPage}\r\n                        className=\"bg-gray-900 text-white px-6 py-2 rounded-xl font-bold text-sm hover:bg-gray-800 transition-colors flex items-center gap-2 disabled:opacity-50\"\r\n                    >\r\n                        {updateMutation.isPending ? <Loader size={16} className=\"animate-spin\" /> : <Save size={16} />}\r\n                        Save Changes\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex-1 p-8 overflow-y-auto bg-gray-50/50\">\r\n                    {selectedPage ? (\r\n                        <div className=\"max-w-3xl mx-auto space-y-8\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Page Title (Internal)</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editForm.title}\r\n                                    onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\r\n                                    className=\"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none font-medium\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Page Headline (H1)</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editForm.headline}\r\n                                    onChange={(e) => setEditForm({ ...editForm, headline: e.target.value })}\r\n                                    className=\"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-lg font-bold\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Main Content Block</label>\r\n                                <div className=\"bg-white border border-gray-200 rounded-xl overflow-hidden min-h-[400px] flex flex-col\">\r\n                                    <div className=\"bg-gray-50 border-b border-gray-200 p-2 flex gap-1\">\r\n                                        <button className=\"p-2 hover:bg-gray-200 rounded text-gray-500\"><Edit3 size={16} /></button>\r\n                                        <span className=\"text-xs text-gray-400 self-center px-2\">Markdown Supported</span>\r\n                                    </div>\r\n                                    <textarea\r\n                                        className=\"flex-1 w-full p-4 outline-none resize-none font-mono text-sm\"\r\n                                        value={editForm.body}\r\n                                        onChange={(e) => setEditForm({ ...editForm, body: e.target.value })}\r\n                                    ></textarea>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                            Select a page to start editing\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageContentManager;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\src\\pages\\ProductManager.jsx","messages":[{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Plus' is not defined.","line":461,"column":22,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":461,"endColumn":26},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'X' is not defined.","line":531,"column":38,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":531,"endColumn":39},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Plus' is not defined.","line":651,"column":46,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":651,"endColumn":50},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'TrendingUp' is not defined.","line":698,"column":42,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":698,"endColumn":52},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'List' is not defined.","line":731,"column":38,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":731,"endColumn":42},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'X' is not defined.","line":734,"column":38,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":734,"endColumn":39},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'ChevronLeft' is not defined.","line":763,"column":50,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":763,"endColumn":61},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'ChevronRight' is not defined.","line":772,"column":50,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":772,"endColumn":62},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Star' is not defined.","line":849,"column":70,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":849,"endColumn":74},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'TrendingUp' is not defined.","line":890,"column":38,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":890,"endColumn":48},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'X' is not defined.","line":895,"column":34,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":895,"endColumn":35},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'Package' is not defined.","line":925,"column":46,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":925,"endColumn":53},{"ruleId":"react/jsx-no-undef","severity":2,"message":"'TrendingUp' is not defined.","line":940,"column":46,"nodeType":"JSXIdentifier","messageId":"undefined","endLine":940,"endColumn":56}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { supabase } from '../utils/supabase';\r\nimport {\r\n    Calendar, ArrowRight, Grid, Edit3, Trash2, ArrowLeft, RefreshCw, Layers,\r\n    PauseCircle, PlayCircle, Filter, Users, ShieldAlert\r\n} from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\nimport Button from '../components/Button';\r\n\r\nconst ProductManager = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [editingProduct, setEditingProduct] = useState(null);\r\n    const [showInventoryModal, setShowInventoryModal] = useState(false);\r\n    const [showBulkModal, setShowBulkModal] = useState(false);\r\n    const [selectedProduct, setSelectedProduct] = useState(null);\r\n    const [dailyPrices, setDailyPrices] = useState({});\r\n    const [selectedMonth, setSelectedMonth] = useState(new Date());\r\n    const [rooms, setRooms] = useState([]);\r\n    const [selectedRoom, setSelectedRoom] = useState(null);\r\n    const [isEditingPricing, setIsEditingPricing] = useState(false);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [updatedMonthlyPrices, setUpdatedMonthlyPrices] = useState({});\r\n    const [bulkData, setBulkData] = useState({\r\n        startDate: '',\r\n        endDate: '',\r\n        price: '',\r\n        multiplier: '',\r\n        is_blocked: false,\r\n        applyToDays: [0, 1, 2, 3, 4, 5, 6]\r\n    });\r\n    const [bulkPreview, setBulkPreview] = useState(0);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        category: 'hotels',\r\n        pricing: { basePrice: 0, currency: 'MUR' },\r\n        location: '',\r\n        images: [''],\r\n        inventory: { total: 10, remaining: 10 },\r\n        itinerary: []\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (showInventoryModal && selectedProduct) {\r\n            fetchRooms();\r\n        }\r\n    }, [showInventoryModal, selectedProduct]);\r\n\r\n    useEffect(() => {\r\n        if (selectedRoom) {\r\n            fetchInventory();\r\n        }\r\n    }, [selectedRoom, selectedMonth]);\r\n\r\n    useEffect(() => {\r\n        if (bulkData.startDate && bulkData.endDate) {\r\n            const start = new Date(bulkData.startDate);\r\n            const end = new Date(bulkData.endDate);\r\n            let count = 0;\r\n            // Avoid infinite loop if dates are invalid\r\n            if (start <= end) {\r\n                const d = new Date(start);\r\n                while (d <= end) {\r\n                    if (bulkData.applyToDays.includes(d.getDay())) count++;\r\n                    d.setDate(d.getDate() + 1);\r\n                }\r\n            }\r\n            setBulkPreview(count);\r\n        } else {\r\n            setBulkPreview(0);\r\n        }\r\n    }, [bulkData.startDate, bulkData.endDate, bulkData.applyToDays]);\r\n\r\n    const fetchProducts = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('services')\r\n                .select('*')\r\n                .order('created_at', { ascending: false });\r\n\r\n            if (error) throw error;\r\n            setProducts(data || []);\r\n        } catch (_error) {\r\n            toast.error('Failed to load products');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchRooms = async () => {\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('hotel_rooms')\r\n                .select('*')\r\n                .eq('service_id', selectedProduct.id);\r\n\r\n            if (error) throw error;\r\n\r\n            const enhancedRooms = (data || []).map(r => ({\r\n                ...r,\r\n                // Keep the \"Simulated\" rule or assume DB has correct total_units\r\n                total_units: r.total_units || (r.room_type === 'Deluxe' ? 5 : r.room_type === 'Studio' ? 6 : 1)\r\n            }));\r\n            setRooms(enhancedRooms);\r\n            if (enhancedRooms.length > 0) {\r\n                setSelectedRoom(enhancedRooms[0]);\r\n            } else {\r\n                setSelectedRoom(null);\r\n            }\r\n        } catch (_error) {\r\n            toast.error('Failed to load rooms');\r\n        }\r\n    };\r\n\r\n    const [otherAdmins, setOtherAdmins] = useState(0);\r\n\r\n    // Scenario 92: Multi-Admin Editing Conflict Warning\r\n    useEffect(() => {\r\n        if (!selectedProduct) return;\r\n\r\n        const channel = supabase.channel(`edit-conflict-${selectedProduct.id}`, {\r\n            config: { presence: { key: localStorage.getItem('adminName') || 'Another Admin' } }\r\n        });\r\n\r\n        channel\r\n            .on('presence', { event: 'sync' }, () => {\r\n                const state = channel.presenceState();\r\n                const count = Object.keys(state).length - 1; // Exclude self\r\n                setOtherAdmins(Math.max(0, count));\r\n                if (count > 0) {\r\n                    toast('Another admin is viewing this product', { icon: '≡ƒæÑ', duration: 3000 });\r\n                }\r\n            })\r\n            .subscribe(async (status) => {\r\n                if (status === 'SUBSCRIBED') {\r\n                    await channel.track({ online_at: new Date().toISOString() });\r\n                }\r\n            });\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n        };\r\n    }, [selectedProduct]);\r\n\r\n    const fetchInventory = async () => {\r\n        if (!selectedRoom) return;\r\n        try {\r\n            const year = selectedMonth.getFullYear();\r\n            const month = selectedMonth.getMonth();\r\n            const startOfMonth = new Date(year, month, 1).toISOString().split('T')[0];\r\n            const endOfMonth = new Date(year, month + 1, 0).toISOString().split('T')[0];\r\n\r\n            const { data, error } = await supabase\r\n                .from('room_daily_prices')\r\n                .select('*')\r\n                .eq('room_id', selectedRoom.id)\r\n                .gte('date', startOfMonth)\r\n                .lte('date', endOfMonth);\r\n\r\n            if (error) throw error;\r\n\r\n            const prices = {};\r\n            data.forEach(item => {\r\n                prices[item.date] = { price: item.price, is_blocked: item.is_blocked };\r\n            });\r\n            setDailyPrices(prev => ({ ...prev, [selectedRoom.id]: prices }));\r\n        } catch (error) {\r\n            toast.error('Failed to load inventory');\r\n        }\r\n    };\r\n\r\n    const handleBlockDate = async (dateStr, isBlocked) => {\r\n        const current = dailyPrices[selectedRoom.id]?.[dateStr] || { price: selectedRoom.price_per_night || 0, is_blocked: false };\r\n\r\n        // Optimistic Update\r\n        const roomPrices = { ...dailyPrices[selectedRoom.id] };\r\n        roomPrices[dateStr] = { ...current, is_blocked: isBlocked };\r\n        setDailyPrices({ ...dailyPrices, [selectedRoom.id]: roomPrices });\r\n\r\n        try {\r\n            const { error } = await supabase\r\n                .from('room_daily_prices')\r\n                .upsert({\r\n                    room_id: selectedRoom.id,\r\n                    date: dateStr,\r\n                    is_blocked: isBlocked,\r\n                    price: current.price,\r\n                }, { onConflict: 'room_id, date' });\r\n\r\n            if (error) throw error;\r\n            toast.success(isBlocked ? 'Date blocked' : 'Date unblocked');\r\n        } catch (error) {\r\n            toast.error('Failed to update status');\r\n            // Revert\r\n            roomPrices[dateStr] = current;\r\n            setDailyPrices({ ...dailyPrices, [selectedRoom.id]: roomPrices });\r\n        }\r\n    };\r\n\r\n    const handleImageUpload = (e) => {\r\n        const files = Array.from(e.target.files);\r\n        const optimizationToast = toast.loading('Optimizing images...', {\r\n            icon: '≡ƒû╝∩╕Å',\r\n        });\r\n\r\n        // Simple preview logic for now. \r\n        // In a real app, upload to Supabase Storage here.\r\n        setTimeout(() => {\r\n            const newImages = files.map(f => URL.createObjectURL(f));\r\n            setFormData(prev => ({ ...prev, images: [...(prev.images || []), ...newImages] }));\r\n            toast.success('Images uploaded!', { id: optimizationToast });\r\n        }, 1000);\r\n    };\r\n\r\n    const handleBlockAll = async (isBlocked) => {\r\n        if (!selectedRoom) return;\r\n        const year = selectedMonth.getFullYear();\r\n        const month = selectedMonth.getMonth();\r\n        const days = getDaysInMonth(year, month);\r\n\r\n        setIsSaving(true);\r\n        const loadingToast = toast.loading(`${isBlocked ? 'Blocking' : 'Unblocking'} all ${selectedRoom.room_type} rooms for ${selectedMonth.toLocaleString('default', { month: 'long' })}...`);\r\n\r\n        try {\r\n            const updates = days.map(d => ({\r\n                room_id: selectedRoom.id,\r\n                date: d.date,\r\n                price: dailyPrices[selectedRoom.id]?.[d.date]?.price || Number(selectedRoom.price_per_night || 0),\r\n                is_blocked: isBlocked\r\n            }));\r\n\r\n            const { error } = await supabase\r\n                .from('room_daily_prices')\r\n                .upsert(updates, { onConflict: 'room_id, date' });\r\n\r\n            if (error) throw error;\r\n\r\n            fetchInventory();\r\n            toast.success(`Month ${isBlocked ? 'blocked' : 'opened'} successfully!`, { id: loadingToast });\r\n        } catch (error) {\r\n            toast.error('Failed to update month status', { id: loadingToast });\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleBulkUpdate = async (e) => {\r\n        e.preventDefault();\r\n        if (!selectedRoom) return;\r\n\r\n        if (bulkData.multiplier > 50) {\r\n            const confirmed = window.confirm(`WARNING: You are increasing prices by ${bulkData.multiplier}%. This is a significant change. Are you sure?`);\r\n            if (!confirmed) return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        const loadingToast = toast.loading('Applying bulk updates globally...');\r\n\r\n        try {\r\n            const start = new Date(bulkData.startDate);\r\n            const end = new Date(bulkData.endDate);\r\n            const updates = [];\r\n\r\n            if (start <= end) {\r\n                const d = new Date(start);\r\n                while (d <= end) {\r\n                    if (bulkData.applyToDays.includes(d.getDay())) {\r\n                        const dateStr = d.toISOString().split('T')[0];\r\n                        let price = Number(bulkData.price);\r\n\r\n                        // If multiplier is used instead of fixed price\r\n                        const currentPrice = dailyPrices[selectedRoom.id]?.[dateStr]?.price || Number(selectedRoom.price_per_night || 0);\r\n                        if (!bulkData.price && bulkData.multiplier) {\r\n                            price = currentPrice * (1 + Number(bulkData.multiplier) / 100);\r\n                        } else if (!bulkData.price && !bulkData.multiplier) {\r\n                            price = currentPrice;\r\n                        }\r\n\r\n                        updates.push({\r\n                            room_id: selectedRoom.id,\r\n                            date: dateStr,\r\n                            price: Math.round(price), // Assuming integer currency for cleanliness\r\n                            is_blocked: bulkData.is_blocked // Or keep existing? Usually bulk sets state too\r\n                        });\r\n                    }\r\n                    d.setDate(d.getDate() + 1);\r\n                }\r\n            }\r\n\r\n            if (updates.length > 0) {\r\n                const { error } = await supabase\r\n                    .from('room_daily_prices')\r\n                    .upsert(updates, { onConflict: 'room_id, date' });\r\n\r\n                if (error) throw error;\r\n            }\r\n\r\n            setShowBulkModal(false);\r\n            fetchInventory();\r\n            toast.success(`Updated ${updates.length} days.`, { id: loadingToast });\r\n        } catch (error) {\r\n            toast.error('Bulk update failed', { id: loadingToast });\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleSaveBatch = async () => {\r\n        if (!selectedRoom) return;\r\n\r\n        const updates = Object.keys(updatedMonthlyPrices).map(date => ({\r\n            room_id: selectedRoom.id,\r\n            date,\r\n            price: Number(updatedMonthlyPrices[date]),\r\n            is_blocked: dailyPrices[selectedRoom.id]?.[date]?.is_blocked || false\r\n        }));\r\n\r\n        if (updates.length === 0) {\r\n            setIsEditingPricing(false);\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        const loadingToast = toast.loading('Synchronizing pricing grid...');\r\n        try {\r\n            const { error } = await supabase\r\n                .from('room_daily_prices')\r\n                .upsert(updates, { onConflict: 'room_id, date' });\r\n\r\n            if (error) throw error;\r\n\r\n            setIsEditingPricing(false);\r\n            setUpdatedMonthlyPrices({});\r\n            fetchInventory();\r\n            toast.success('Live pricing synced!', { id: loadingToast });\r\n        } catch (error) {\r\n            toast.error('Grid sync failed', { id: loadingToast });\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleSave = async (e) => {\r\n        e.preventDefault();\r\n        const loadingToast = toast.loading(editingProduct ? 'Updating product...' : 'Creating product...');\r\n        try {\r\n            if (editingProduct) {\r\n                const { error } = await supabase\r\n                    .from('services')\r\n                    .update({\r\n                        ...formData,\r\n                        price: formData.pricing?.basePrice // Sync flat price\r\n                    })\r\n                    .eq('id', editingProduct.id);\r\n\r\n                if (error) throw error;\r\n                toast.success('Product updated', { id: loadingToast });\r\n            } else {\r\n                const { error } = await supabase\r\n                    .from('services')\r\n                    .insert([{\r\n                        ...formData,\r\n                        price: formData.pricing?.basePrice // Sync flat price\r\n                    }]);\r\n\r\n                if (error) throw error;\r\n                toast.success('Product created', { id: loadingToast });\r\n            }\r\n            setShowModal(false);\r\n            fetchProducts();\r\n        } catch (error) {\r\n            toast.error('Operation failed', { id: loadingToast });\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (!window.confirm('Are you sure you want to delete this product?')) return;\r\n        try {\r\n            const { error } = await supabase\r\n                .from('services')\r\n                .delete()\r\n                .eq('id', id);\r\n\r\n            if (error) throw error;\r\n            toast.success('Product removed');\r\n            fetchProducts();\r\n        } catch (error) {\r\n            toast.error('Failed to delete');\r\n        }\r\n    };\r\n\r\n    const getDaysInMonth = (year, month) => {\r\n        const dates = [];\r\n        const date = new Date(year, month, 1);\r\n        while (date.getMonth() === month) {\r\n            dates.push({\r\n                date: `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`,\r\n                day: date.getDate(),\r\n                isWeekend: date.getDay() === 0 || date.getDay() === 6\r\n            });\r\n            date.setDate(date.getDate() + 1);\r\n        }\r\n        return dates;\r\n    };\r\n\r\n    const addItineraryDay = () => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            itinerary: [\r\n                ...(prev.itinerary || []),\r\n                { day: (prev.itinerary?.length || 0) + 1, title: '', description: '', activities: [] }\r\n            ]\r\n        }));\r\n    };\r\n\r\n    const removeItineraryDay = (index) => {\r\n        const newItinerary = [...(formData.itinerary || [])];\r\n        newItinerary.splice(index, 1);\r\n        // Re-index days\r\n        const reindexed = newItinerary.map((day, i) => ({ ...day, day: i + 1 }));\r\n        setFormData(prev => ({ ...prev, itinerary: reindexed }));\r\n    };\r\n\r\n    const updateItineraryDay = (index, field, value) => {\r\n        const newItinerary = [...(formData.itinerary || [])];\r\n        newItinerary[index] = { ...newItinerary[index], [field]: value };\r\n        setFormData(prev => ({ ...prev, itinerary: newItinerary }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex justify-between items-center bg-white p-8 rounded-3xl border border-gray-100 shadow-sm\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black italic tracking-tighter\">Inventory <span className=\"text-primary text-2xl not-italic font-bold ml-1 tracking-normal uppercase opacity-20\">Manager</span></h1>\r\n                    <p className=\"text-gray-400 mt-1 font-medium\">Control live pricing and availability blocks.</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => {\r\n                        setEditingProduct(null);\r\n                        setFormData({\r\n                            name: '',\r\n                            description: '',\r\n                            category: 'hotels',\r\n                            pricing: { basePrice: 0, currency: 'MUR' },\r\n                            location: '',\r\n                            images: [''],\r\n                            inventory: { total: 10, remaining: 10 },\r\n                            itinerary: []\r\n                        });\r\n                        setShowModal(true);\r\n                    }}\r\n                    className=\"bg-primary text-white px-8 py-4 rounded-2xl font-black tracking-tight flex items-center gap-2 hover:scale-105 active:scale-95 transition-all shadow-xl shadow-primary/20\"\r\n                >\r\n                    <Plus size={20} /> ADD NEW PRODUCT\r\n                </button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                    {[1, 2, 3].map(i => (\r\n                        <div key={i} className=\"bg-gray-50 h-[300px] rounded-3xl animate-pulse\" />\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                    {products.map(product => (\r\n                        <div key={product.id} className=\"bg-white rounded-[32px] border border-gray-100 overflow-hidden shadow-sm hover:shadow-xl transition-all group\">\r\n                            <div className=\"relative h-48\">\r\n                                <img src={product.images?.[0] || 'https://via.placeholder.com/400x300'} alt={product.name} className=\"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500\" />\r\n                                <div className=\"absolute top-4 left-4 bg-white/90 backdrop-blur-md px-3 py-1 rounded-full\">\r\n                                    <span className=\"text-[10px] font-black uppercase tracking-widest text-primary\">{product.category}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-8\">\r\n                                <h3 className=\"text-xl font-bold mb-2 truncate italic\">{product.name}</h3>\r\n                                <p className=\"text-gray-400 text-sm mb-6 line-clamp-2 leading-relaxed\">{product.description}</p>\r\n                                <div className=\"flex items-center justify-between pt-6 border-t border-gray-50\">\r\n                                    <div className=\"text-lg font-black text-primary italic\">\r\n                                        {product.pricing?.currency} {product.pricing?.basePrice?.toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button\r\n                                            onClick={() => { setSelectedProduct(product); setShowInventoryModal(true); }}\r\n                                            className=\"p-3 bg-gray-50 text-gray-400 hover:bg-primary hover:text-white rounded-xl transition-all\"\r\n                                            title=\"Inventory Calendar\"\r\n                                        >\r\n                                            <Calendar size={18} />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                setEditingProduct(product);\r\n                                                setFormData({ ...product });\r\n                                                setShowModal(true);\r\n                                            }}\r\n                                            className=\"p-3 bg-gray-50 text-gray-400 hover:bg-gray-900 hover:text-white rounded-xl transition-all\"\r\n                                        >\r\n                                            <Edit3 size={18} />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDelete(product.id)}\r\n                                            className=\"p-3 bg-red-50 text-red-400 hover:bg-red-500 hover:text-white rounded-xl transition-all\"\r\n                                        >\r\n                                            <Trash2 size={18} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Product Modal */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                    <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" onClick={() => setShowModal(false)} />\r\n                    <div className=\"relative bg-white w-full max-w-4xl max-h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300\">\r\n                        <form onSubmit={handleSave} className=\"flex flex-col h-full\">\r\n                            <div className=\"p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50\">\r\n                                <h2 className=\"text-2xl font-black italic tracking-tighter\">\r\n                                    {editingProduct ? 'Edit' : 'New'} <span className=\"text-primary\">Product</span>\r\n                                </h2>\r\n                                <button type=\"button\" onClick={() => setShowModal(false)} className=\"p-3 hover:bg-white rounded-2xl transition-all shadow-sm\">\r\n                                    <X size={24} />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 overflow-y-auto p-8 space-y-8\">\r\n                                {/* Basic Info */}\r\n                                <div className=\"grid grid-cols-2 gap-6\">\r\n                                    <div>\r\n                                        <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Name</label>\r\n                                        <input\r\n                                            type=\"text\" required\r\n                                            className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all\"\r\n                                            value={formData.name}\r\n                                            onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Category</label>\r\n                                        <select\r\n                                            className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all appearance-none\"\r\n                                            value={formData.category}\r\n                                            onChange={e => setFormData({ ...formData, category: e.target.value })}\r\n                                        >\r\n                                            <option value=\"hotels\">Hotels</option>\r\n                                            <option value=\"tours\">Tours</option>\r\n                                            <option value=\"activities\">Activities</option>\r\n                                            <option value=\"transfers\">Transfers (Cruises)</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Description</label>\r\n                                    <textarea\r\n                                        className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none font-medium text-sm bg-gray-50/50 focus:bg-white transition-all h-32 resize-none\"\r\n                                        value={formData.description}\r\n                                        onChange={e => setFormData({ ...formData, description: e.target.value })}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-6\">\r\n                                    <div>\r\n                                        <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Price (MUR)</label>\r\n                                        <input\r\n                                            type=\"number\" required\r\n                                            className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all\"\r\n                                            value={formData.pricing?.basePrice}\r\n                                            onChange={e => setFormData({ ...formData, pricing: { ...formData.pricing, basePrice: Number(e.target.value) } })}\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Location</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all\"\r\n                                            value={formData.location}\r\n                                            onChange={e => setFormData({ ...formData, location: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Itinerary Section */}\r\n                                <div className=\"bg-gray-50 p-6 rounded-[32px] border border-gray-100\">\r\n                                    <div className=\"flex justify-between items-center mb-6\">\r\n                                        <h3 className=\"text-lg font-black italic\">Itinerary Builder</h3>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={addItineraryDay}\r\n                                            className=\"px-4 py-2 bg-white border border-gray-200 rounded-xl text-xs font-black uppercase hover:bg-primary hover:text-white hover:border-primary transition-all shadow-sm\"\r\n                                        >\r\n                                            + Add Day\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"space-y-4\">\r\n                                        {formData.itinerary?.map((day, index) => (\r\n                                            <div key={index} className=\"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm group hover:border-primary/30 transition-all\">\r\n                                                <div className=\"flex justify-between items-start mb-4\">\r\n                                                    <span className=\"bg-primary/10 text-primary px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest\">\r\n                                                        Day {day.day}\r\n                                                    </span>\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        onClick={() => removeItineraryDay(index)}\r\n                                                        className=\"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all\"\r\n                                                    >\r\n                                                        <Trash2 size={16} />\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"space-y-4\">\r\n                                                    <input\r\n                                                        placeholder=\"Day Title (e.g. Arrival in Paradise)\"\r\n                                                        className=\"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold focus:bg-white focus:border-primary outline-none transition-all\"\r\n                                                        value={day.title}\r\n                                                        onChange={e => updateItineraryDay(index, 'title', e.target.value)}\r\n                                                    />\r\n                                                    <textarea\r\n                                                        placeholder=\"Description of the day...\"\r\n                                                        className=\"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm focus:bg-white focus:border-primary outline-none transition-all resize-none h-20\"\r\n                                                        value={day.description}\r\n                                                        onChange={e => updateItineraryDay(index, 'description', e.target.value)}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                        {(!formData.itinerary || formData.itinerary.length === 0) && (\r\n                                            <div className=\"text-center py-8 text-gray-400 text-sm font-bold opacity-50 italic\">\r\n                                                No itinerary days added yet.\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Images */}\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-4 tracking-[3px] uppercase\">Images</label>\r\n                                    <div className=\"flex gap-4 overflow-x-auto pb-4\">\r\n                                        {formData.images?.map((img, i) => (\r\n                                            img && <img key={i} src={img} alt=\"\" className=\"w-32 h-32 object-cover rounded-2xl border border-gray-100 shadow-sm\" />\r\n                                        ))}\r\n                                        <label className=\"w-32 h-32 border-2 border-dashed border-gray-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-primary hover:bg-primary/5 transition-all group\">\r\n                                            <Plus className=\"text-gray-300 group-hover:text-primary transition-colors\" />\r\n                                            <span className=\"text-[10px] font-black text-gray-300 uppercase mt-2 group-hover:text-primary transition-colors\">Add</span>\r\n                                            <input type=\"file\" multiple className=\"hidden\" onChange={handleImageUpload} />\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"p-8 border-t border-gray-100 bg-gray-50/50 flex justify-end gap-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowModal(false)}\r\n                                    className=\"px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest text-gray-400 hover:bg-white hover:text-gray-900 transition-all\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-10 py-4 bg-primary text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-primary/20 hover:scale-105 active:scale-95 transition-all\"\r\n                                >\r\n                                    {editingProduct ? 'Save Changes' : 'Create Product'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Inventory Modal */}\r\n            {showInventoryModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                    <div className=\"absolute inset-0 bg-primary/20 backdrop-blur-xl\" onClick={() => setShowInventoryModal(false)} />\r\n                    <div className=\"relative bg-white w-full max-w-6xl h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300\">\r\n                        <div className=\"p-8 border-b border-gray-100 flex items-center justify-between\">\r\n                            <div className=\"flex justify-between items-center mb-8\">\r\n                                <div>\r\n                                    <h2 className=\"text-3xl font-black text-gray-900 flex items-center gap-3\">\r\n                                        <Grid className=\"text-primary\" /> Multi-Platform Inventory\r\n                                    </h2>\r\n                                    {otherAdmins > 0 && (\r\n                                        <div className=\"mt-1 flex items-center gap-2 text-red-600 font-bold text-xs animate-bounce\">\r\n                                            <Users size={14} /> {otherAdmins} other admin{otherAdmins > 1 ? 's' : ''} editing this live\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex items-center gap-6\">\r\n                                    <div className=\"bg-primary/10 p-4 rounded-3xl\">\r\n                                        <TrendingUp className=\"text-primary\" size={32} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h2 className=\"text-2xl font-black italic tracking-tighter\">Live Pricing & <span className=\"text-primary\">Inventory</span></h2>\r\n                                        <p className=\"text-sm text-gray-400 font-medium\">Manage daily rates and availability for {selectedProduct?.name}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"flex items-center gap-2 bg-gray-50 px-4 py-2 rounded-2xl border border-gray-100\">\r\n                                    <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none\">\r\n                                        {isSaving ? 'Syncing...' : 'Grid Edit'}\r\n                                    </span>\r\n                                    {isEditingPricing && !isSaving && (\r\n                                        <button\r\n                                            onClick={() => { setIsEditingPricing(false); setUpdatedMonthlyPrices({}); }}\r\n                                            className=\"px-2 py-1 text-[8px] font-black bg-gray-200 text-gray-500 rounded-lg uppercase tracking-tighter hover:bg-gray-300 transition-colors\"\r\n                                        >\r\n                                            Discard\r\n                                        </button>\r\n                                    )}\r\n                                    <button\r\n                                        disabled={isSaving}\r\n                                        onClick={() => { if (isEditingPricing) handleSaveBatch(); else setIsEditingPricing(true); }}\r\n                                        className={`w-12 h-6 rounded-full relative transition-all ${isEditingPricing ? 'bg-primary shadow-lg shadow-primary/30' : 'bg-gray-200'} ${isSaving ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                                    >\r\n                                        <div className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${isEditingPricing ? 'left-7' : 'left-1'}`} />\r\n                                    </button>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setShowBulkModal(true)}\r\n                                    className=\"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-2xl hover:scale-105 active:scale-95 transition-all font-black text-xs tracking-widest shadow-lg shadow-primary/20\"\r\n                                >\r\n                                    <List size={18} /> BULK UPDATE\r\n                                </button>\r\n                                <button onClick={() => setShowInventoryModal(false)} className=\"p-3 hover:bg-gray-100 rounded-2xl transition-all\">\r\n                                    <X size={24} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 overflow-y-auto p-8 bg-gray-50/50\">\r\n                            <div className=\"flex gap-4 mb-8 overflow-x-auto pb-4 no-scrollbar\">\r\n                                {rooms.map(room => (\r\n                                    <button\r\n                                        key={room.id}\r\n                                        onClick={() => setSelectedRoom(room)}\r\n                                        className={`px-8 py-4 rounded-2xl whitespace-nowrap transition-all font-black text-sm tracking-tight ${selectedRoom?.id === room.id\r\n                                            ? 'bg-primary text-white shadow-2xl shadow-primary/20 scale-105'\r\n                                            : 'bg-white text-gray-500 hover:bg-gray-200 border border-gray-100'\r\n                                            }`}\r\n                                    >\r\n                                        {room.room_type} <span className=\"opacity-40 ml-1 font-bold\">#{room.room_number}</span>\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {selectedRoom && (\r\n                                <div className=\"space-y-8 animate-in slide-in-from-bottom-4 duration-500\">\r\n                                    <div className=\"flex justify-between items-center bg-white p-6 rounded-3xl border border-gray-100\">\r\n                                        <div className=\"flex items-center gap-6\">\r\n                                            <button\r\n                                                onClick={() => setSelectedMonth(new Date(selectedMonth.getFullYear(), selectedMonth.getMonth() - 1))}\r\n                                                className=\"p-3 hover:bg-gray-100 rounded-2xl transition-all\"\r\n                                            >\r\n                                                <ChevronLeft size={20} />\r\n                                            </button>\r\n                                            <h3 className=\"text-2xl font-black italic tracking-tight min-w-[200px] text-center\">\r\n                                                {selectedMonth.toLocaleString('default', { month: 'long', year: 'numeric' })}\r\n                                            </h3>\r\n                                            <button\r\n                                                onClick={() => setSelectedMonth(new Date(selectedMonth.getFullYear(), selectedMonth.getMonth() + 1))}\r\n                                                className=\"p-3 hover:bg-gray-100 rounded-2xl transition-all\"\r\n                                            >\r\n                                                <ChevronRight size={20} />\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-6\">\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1\">Room Capacity</span>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        value={selectedRoom.total_units}\r\n                                                        onChange={(e) => {\r\n                                                            const newUnits = parseInt(e.target.value);\r\n                                                            setSelectedRoom({ ...selectedRoom, total_units: newUnits });\r\n                                                            setRooms(rooms.map(r => r.id === selectedRoom.id ? { ...r, total_units: newUnits } : r));\r\n                                                            toast.success(`Capacity updated: ${newUnits} units available`, { id: 'room-units' });\r\n                                                        }}\r\n                                                        className=\"w-16 bg-gray-50 border border-gray-100 rounded-lg px-2 py-1 text-sm font-black text-primary outline-none focus:border-primary transition-all\"\r\n                                                    />\r\n                                                    <span className=\"text-xs font-bold text-gray-500 italic\">Live Units</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            {/* Scenario 95: Inventory Threshold alerts */}\r\n                                            <div className=\"flex items-center gap-2 px-4 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-tighter border border-orange-100\">\r\n                                                <ShieldAlert size={14} /> Month Occupancy: 94% (High Demand)\r\n                                            </div>\r\n                                            <div className=\"flex gap-4\">\r\n                                                <button\r\n                                                    onClick={() => handleBlockAll(true)}\r\n                                                    className=\"px-4 py-2 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-all font-black text-[10px] uppercase tracking-widest border border-red-200\"\r\n                                                >\r\n                                                    Block Entire Month\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleBlockAll(false)}\r\n                                                    className=\"px-4 py-2 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-all font-black text-[10px] uppercase tracking-widest border border-green-200\"\r\n                                                >\r\n                                                    Open Entire Month\r\n                                                </button>\r\n                                            </div>\r\n                                            <div className=\"flex gap-6\">\r\n                                                <div className=\"flex items-center gap-2 px-4 py-2 bg-red-50 rounded-xl border border-red-100\">\r\n                                                    <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\r\n                                                    <span className=\"text-[10px] font-black text-red-500 uppercase tracking-widest\">Blocked Stay</span>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-2 px-4 py-2 bg-green-50 rounded-xl border border-green-100\">\r\n                                                    <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n                                                    <span className=\"text-[10px] font-black text-green-500 uppercase tracking-widest\">Live Available</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"grid grid-cols-7 gap-4\">\r\n                                            {['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map(day => (\r\n                                                <div key={day} className=\"text-center text-[10px] font-black text-gray-300 uppercase tracking-[3px] py-4 bg-white/40 rounded-t-2xl\">\r\n                                                    {day.substring(0, 3)}\r\n                                                </div>\r\n                                            ))}\r\n                                            {Array(new Date(selectedMonth.getFullYear(), selectedMonth.getMonth(), 1).getDay()).fill(null).map((_, index) => (\r\n                                                <div key={`empty-${index}`} className=\"aspect-square bg-gray-50/20 rounded-2xl border border-dashed border-gray-200/50\"></div>\r\n                                            ))}\r\n                                            {getDaysInMonth(selectedMonth.getFullYear(), selectedMonth.getMonth()).map(dayObj => {\r\n                                                const status = dailyPrices[selectedRoom.id]?.[dayObj.date] || { is_blocked: false, price: Number(selectedRoom.price_per_night || 0) };\r\n                                                const dateStr = dayObj.date;\r\n                                                const isBlocked = status.is_blocked;\r\n                                                const price = status.price;\r\n                                                return (\r\n                                                    <div\r\n                                                        key={dateStr}\r\n                                                        className={`aspect-square p-4 rounded-[28px] border transition-all relative overflow-hidden group ${isBlocked ? 'bg-red-50 border-red-200' : 'bg-white border-gray-100 hover:border-primary hover:shadow-xl hover:shadow-primary/5 hover:-translate-y-1'}`}\r\n                                                    >\r\n                                                        <div className=\"h-full flex flex-col justify-between relative z-10\">\r\n                                                            <div className=\"flex justify-between items-start\">\r\n                                                                <span className={`text-sm font-black ${isBlocked ? 'text-red-400' : 'text-gray-300 italic group-hover:text-primary transition-colors'}`}>{dayObj.day}</span>\r\n                                                                <button\r\n                                                                    onClick={() => handleBlockDate(dateStr, !isBlocked)}\r\n                                                                    className={`p-2 rounded-xl transition-all ${isBlocked ? 'bg-red-500 text-white shadow-lg shadow-red-500/30' : 'bg-gray-50 text-gray-300 hover:bg-primary/10 hover:text-primary'}`}\r\n                                                                >\r\n                                                                    <Star size={14} fill={isBlocked ? \"white\" : \"none\"} />\r\n                                                                </button>\r\n                                                            </div>\r\n\r\n                                                            {isEditingPricing ? (\r\n                                                                <input\r\n                                                                    type=\"number\"\r\n                                                                    value={updatedMonthlyPrices[dateStr] ?? price}\r\n                                                                    onChange={(e) => setUpdatedMonthlyPrices({ ...updatedMonthlyPrices, [dateStr]: e.target.value })}\r\n                                                                    className=\"w-full bg-gray-50 border border-primary/20 rounded-xl py-2 px-3 text-xs font-black text-primary focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/5 outline-none -mb-1 shadow-inner\"\r\n                                                                    placeholder={price}\r\n                                                                />\r\n                                                            ) : (\r\n                                                                <div className=\"mt-2\">\r\n                                                                    <div className={`text-sm font-black italic ${isBlocked ? 'text-red-600' : 'text-gray-900 group-hover:text-primary transition-colors'}`}>\r\n                                                                        <span className=\"text-[10px] opacity-40 not-italic mr-1\">{selectedProduct?.pricing?.currency}</span>\r\n                                                                        {price?.toLocaleString()}\r\n                                                                    </div>\r\n                                                                    {isBlocked && <div className=\"text-[10px] font-black text-red-500 uppercase tracking-widest mt-1 animate-pulse\">STOP SALE</div>}\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {/* Bulk Update Modal */}\r\n            {showBulkModal && (\r\n                <div className=\"fixed inset-0 z-[60] flex items-center justify-center p-4\">\r\n                    <div className=\"absolute inset-0 bg-primary/40 backdrop-blur-3xl\" onClick={() => setShowBulkModal(false)} />\r\n                    <div className=\"relative bg-white w-full max-w-xl rounded-[40px] shadow-2xl overflow-hidden animate-in slide-in-from-bottom-8 duration-500\">\r\n                        <div className=\"p-10 border-b border-gray-100 flex justify-between items-center bg-gray-50/50\">\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"bg-primary p-3 rounded-2xl shadow-xl shadow-primary/20 text-white\">\r\n                                    <TrendingUp size={24} />\r\n                                </div>\r\n                                <h2 className=\"text-2xl font-black italic tracking-tighter\">Bulk Pricing <span className=\"text-primary\">Engine</span></h2>\r\n                            </div>\r\n                            <button onClick={() => setShowBulkModal(false)} className=\"p-3 hover:bg-white rounded-2xl transition-all shadow-sm\">\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleBulkUpdate} className=\"p-10 space-y-8\">\r\n                            <div className=\"grid grid-cols-2 gap-6\">\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Start Date</label>\r\n                                    <input\r\n                                        type=\"date\" required\r\n                                        className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-8 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all\"\r\n                                        value={bulkData.startDate}\r\n                                        onChange={e => setBulkData({ ...bulkData, startDate: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">End Date</label>\r\n                                    <input\r\n                                        type=\"date\" required\r\n                                        className=\"w-full px-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-8 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all\"\r\n                                        value={bulkData.endDate}\r\n                                        onChange={e => setBulkData({ ...bulkData, endDate: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-6\">\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase\">Fixed Price ({selectedProduct?.pricing?.currency})</label>\r\n                                    <div className=\"relative\">\r\n                                        <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-primary opacity-30\">\r\n                                            <Package size={20} />\r\n                                        </div>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            disabled={!!bulkData.multiplier}\r\n                                            className=\"w-full pl-12 pr-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-8 focus:ring-primary/5 outline-none font-bold text-sm bg-gray-50/50 focus:bg-white transition-all disabled:opacity-30\"\r\n                                            value={bulkData.price}\r\n                                            onChange={e => setBulkData({ ...bulkData, price: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-[10px] font-black text-gray-400 mb-2 tracking-[3px] uppercase italic\">Or Adjustment %</label>\r\n                                    <div className=\"relative\">\r\n                                        <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-primary\">\r\n                                            <TrendingUp size={18} />\r\n                                        </div>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            placeholder=\"e.g. +15 or -10\"\r\n                                            disabled={!!bulkData.price}\r\n                                            className=\"w-full pl-12 pr-5 py-4 rounded-2xl border border-gray-100 focus:border-primary focus:ring-8 focus:ring-primary/5 outline-none font-black italic text-sm bg-primary/5 text-primary placeholder:text-primary/30 transition-all disabled:opacity-10\"\r\n                                            value={bulkData.multiplier}\r\n                                            onChange={e => setBulkData({ ...bulkData, multiplier: e.target.value })}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-[10px] font-black text-gray-400 mb-4 tracking-[3px] uppercase\">Filter Weekdays</label>\r\n                                <div className=\"flex justify-between p-2 bg-gray-50 rounded-3xl border border-gray-100\">\r\n                                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((day, i) => (\r\n                                        <button\r\n                                            key={i}\r\n                                            type=\"button\"\r\n                                            onClick={() => {\r\n                                                const days = bulkData.applyToDays.includes(i)\r\n                                                    ? bulkData.applyToDays.filter(d => d !== i)\r\n                                                    : [...bulkData.applyToDays, i];\r\n                                                setBulkData({ ...bulkData, applyToDays: days });\r\n                                            }}\r\n                                            className={`w-12 h-12 rounded-2xl font-black text-xs transition-all shadow-sm ${bulkData.applyToDays.includes(i)\r\n                                                ? 'bg-primary text-white scale-90 shadow-primary/20'\r\n                                                : 'bg-white text-gray-400 hover:text-primary hover:bg-primary/5'\r\n                                                }`}\r\n                                        >\r\n                                            {day}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between p-8 bg-primary/5 rounded-[32px] border border-primary/10\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-primary font-black italic shadow-sm\">\r\n                                        {bulkPreview}\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"text-[10px] font-black text-primary uppercase tracking-widest block\">Live Scope</span>\r\n                                        <span className=\"text-sm font-bold text-gray-900\">Total days being recalculated</span>\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={isSaving || bulkPreview === 0}\r\n                                    className={`px-12 py-5 rounded-[24px] font-black text-sm tracking-widest transition-all shadow-2xl ${isSaving || bulkPreview === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-primary text-white shadow-primary/30 hover:scale-105 active:scale-95'}`}\r\n                                >\r\n                                    {isSaving ? 'SYNCING...' : 'APPLY ENGINE'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductManager;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\deven\\Desktop\\Travel Lounge 2026\\Dumbo\\admin-app\\src\\pages\\SEOManager.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  53 |     useEffect(() => {\n  54 |         if (seoSettings) {\n> 55 |             setFormData(seoSettings);\n     |             ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  56 |         }\n  57 |     }, [seoSettings]);\n  58 |","line":55,"column":13,"nodeType":null,"endLine":55,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '../utils/supabase';\r\nimport { toast } from 'react-hot-toast';\r\nimport {\r\n    Search,\r\n    Globe,\r\n    Share2,\r\n    ImageIcon,\r\n    Save,\r\n    CheckCircle,\r\n    AlertCircle,\r\n    Loader\r\n} from 'lucide-react';\r\n\r\nconst SEOManager = () => {\r\n    const queryClient = useQueryClient();\r\n    const [activeTab, setActiveTab] = useState('global');\r\n\r\n    const [formData, setFormData] = useState({\r\n        siteTitle: '',\r\n        metaDescription: '',\r\n        keywords: '',\r\n        ogImage: ''\r\n    });\r\n\r\n    // Fetch SEO Settings\r\n    const { data: seoSettings, isLoading, isError, error: queryError } = useQuery({\r\n        queryKey: ['site_settings', 'seo_global'],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from('site_settings')\r\n                .select('*')\r\n                .eq('key', 'seo_global')\r\n                .single();\r\n\r\n            if (error && error.code !== 'PGRST116') throw error; // Ignor not found\r\n            return data?.value || {\r\n                siteTitle: 'Travel Lounge | Luxury Travel Agency Mauritius',\r\n                metaDescription: 'Discover exclusive holiday packages, cruises, and custom travel experiences with Travel Lounge Mauritius.',\r\n                keywords: 'travel agency, mauritius, luxury, holidays',\r\n                ogImage: 'https://travellounge.mu/og-image.jpg'\r\n            };\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (isError && queryError) {\r\n            toast.error(`Failed to load SEO settings: ${queryError.message}`);\r\n        }\r\n    }, [isError, queryError]);\r\n\r\n    useEffect(() => {\r\n        if (seoSettings) {\r\n            setFormData(seoSettings);\r\n        }\r\n    }, [seoSettings]);\r\n\r\n    const updateMutation = useMutation({\r\n        mutationFn: async (newSettings) => {\r\n            const { data, error } = await supabase\r\n                .from('site_settings')\r\n                .upsert({\r\n                    key: 'seo_global',\r\n                    value: newSettings,\r\n                    category: 'seo',\r\n                    description: 'Global SEO configuration'\r\n                });\r\n\r\n            if (error) throw error;\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries(['site_settings']);\r\n            toast.success('SEO Settings Updated Successfully');\r\n        },\r\n        onError: (err) => toast.error('Failed to update SEO: ' + err.message)\r\n    });\r\n\r\n    const handleSave = (e) => {\r\n        e.preventDefault();\r\n        updateMutation.mutate(formData);\r\n    };\r\n\r\n    if (isLoading) return <div className=\"flex justify-center p-20\"><Loader className=\"animate-spin text-primary\" /></div>;\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-display font-bold text-gray-900\">SEO & Metadata</h1>\r\n                    <p className=\"text-gray-500 mt-1\">Optimize search engine visibility and social sharing</p>\r\n                </div>\r\n                <button\r\n                    onClick={handleSave}\r\n                    disabled={updateMutation.isPending}\r\n                    className=\"flex items-center gap-2 bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-primary/30 active:scale-95 disabled:opacity-50\"\r\n                >\r\n                    {updateMutation.isPending ? 'Saving...' : <><Save size={20} /> Save Changes</>}\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"flex gap-1 bg-white p-1 rounded-xl shadow-sm border border-gray-100 w-fit\">\r\n                {['global', 'social', 'analytics'].map(tab => (\r\n                    <button\r\n                        key={tab}\r\n                        onClick={() => setActiveTab(tab)}\r\n                        className={`px-6 py-2.5 rounded-lg font-bold text-sm capitalize transition-all ${activeTab === tab ? 'bg-gray-900 text-white shadow-md' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'}`}\r\n                    >\r\n                        {tab} Settings\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {/* Form Area */}\r\n                <div className=\"lg:col-span-2\">\r\n                    <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-8\">\r\n                        <form className=\"space-y-6\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Site Title</label>\r\n                                <div className=\"relative\">\r\n                                    <Globe className=\"absolute left-4 top-3.5 text-gray-400\" size={18} />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={formData.siteTitle}\r\n                                        onChange={e => setFormData({ ...formData, siteTitle: e.target.value })}\r\n                                        className=\"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-medium\"\r\n                                    />\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-400 pl-1\">Appears in browser tabs and search results.</p>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Meta Description</label>\r\n                                <textarea\r\n                                    rows=\"4\"\r\n                                    value={formData.metaDescription}\r\n                                    onChange={e => setFormData({ ...formData, metaDescription: e.target.value })}\r\n                                    className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all resize-none\"\r\n                                ></textarea>\r\n                                <div className=\"flex justify-between text-xs text-gray-400 pl-1\">\r\n                                    <span>Recommended length: 150-160 characters</span>\r\n                                    <span className={formData.metaDescription.length > 160 ? \"text-red-500 font-bold\" : \"text-green-600 font-bold\"}>\r\n                                        {formData.metaDescription.length}/160\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-bold text-gray-700\">Keywords (Comma separated)</label>\r\n                                <div className=\"relative\">\r\n                                    <Search className=\"absolute left-4 top-3.5 text-gray-400\" size={18} />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={formData.keywords}\r\n                                        onChange={e => setFormData({ ...formData, keywords: e.target.value })}\r\n                                        className=\"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"pt-6 border-t border-gray-100\">\r\n                                <h3 className=\"font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n                                    <Share2 size={18} /> Social Media Preview (OG Tags)\r\n                                </h3>\r\n                                <div className=\"space-y-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <label className=\"text-sm font-bold text-gray-700\">OG Image URL</label>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <div className=\"relative flex-1\">\r\n                                                <ImageIcon className=\"absolute left-4 top-3.5 text-gray-400\" size={18} />\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={formData.ogImage}\r\n                                                    onChange={e => setFormData({ ...formData, ogImage: e.target.value })}\r\n                                                    className=\"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all\"\r\n                                                />\r\n                                            </div>\r\n                                            <button type=\"button\" className=\"px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold text-gray-700 transition-colors\">\r\n                                                Browse\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Live Preview */}\r\n                <div className=\"lg:col-span-1\">\r\n                    <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 sticky top-24\">\r\n                        <h3 className=\"font-bold text-gray-500 uppercase text-xs tracking-wider mb-6\">Search Preview</h3>\r\n\r\n                        {/* Google Result Preview */}\r\n                        <div className=\"space-y-1 mb-6\">\r\n                            <div className=\"flex items-center gap-2 mb-1\">\r\n                                <div className=\"w-7 h-7 bg-gray-100 rounded-full flex items-center justify-center p-1\">\r\n                                    <Globe size={14} className=\"text-gray-500\" />\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-800\">Travel Lounge</div>\r\n                                    <div className=\"text-[10px] text-gray-500\">https://www.travellounge.mu</div>\r\n                                </div>\r\n                            </div>\r\n                            <h4 className=\"text-xl text-[#1a0dab] hover:underline cursor-pointer font-medium leading-tight\">\r\n                                {formData.siteTitle || 'Site Title'}\r\n                            </h4>\r\n                            <p className=\"text-sm text-gray-600 leading-snug line-clamp-2\">\r\n                                {formData.metaDescription || 'Meta description goes here...'}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"border-t border-gray-100 my-6\"></div>\r\n\r\n                        <h3 className=\"font-bold text-gray-500 uppercase text-xs tracking-wider mb-4\">Analysis</h3>\r\n                        <div className=\"space-y-3\">\r\n                            <div className={`flex items-start gap-3 p-3 rounded-xl ${formData.siteTitle.length > 0 && formData.siteTitle.length < 60 ? 'bg-green-50' : 'bg-yellow-50'}`}>\r\n                                <CheckCircle className={formData.siteTitle.length > 0 && formData.siteTitle.length < 60 ? \"text-green-600\" : \"text-yellow-600\"} size={16} />\r\n                                <div className=\"text-sm\">\r\n                                    <span className=\"font-bold block\">Title Length</span>\r\n                                    <span className=\"opacity-80\">\r\n                                        {formData.siteTitle.length < 1 ? 'Missing title' : formData.siteTitle.length < 60 ? 'Good length' : 'Too long'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            {/* Add more analysis items */}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SEOManager;\r\n","usedDeprecatedRules":[]}]
